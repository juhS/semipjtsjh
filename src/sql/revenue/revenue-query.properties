branchCheck=SELECT B.BRANCH_NAME FROM BRANCH B JOIN MEMBER_INFO M ON(B.BRANCH_CODE = M.DEPT_CODE) WHERE M.DEPT_CODE = ?
selectBranchAll=SELECT BRANCH_CODE, BRANCH_NAME FROM BRANCH ORDER BY BRANCH_NAME DESC

selectHoIncomeYesterday=SELECT OH.ORDER_DATE , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) WHERE TO_CHAR(OH.ORDER_DATE, 'RRRRMMDD') = ?-1 GROUP BY OH.ORDER_DATE
selectHoIncomeMonth=SELECT TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) JOIN BRANCH B ON(K.MEMBER_DEPT_CODE = B.BRANCH_CODE) WHERE TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') = TO_CHAR(TO_DATE(? - 100, 'YYYY/MM/DD'), 'YYYY/MM') GROUP BY TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') ORDER BY TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') DESC
selectHoIncomeYear=SELECT TO_DATE(EXTRACT(YEAR FROM OH.ORDER_DATE), 'YYYY') , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) JOIN BRANCH B ON(K.MEMBER_DEPT_CODE = B.BRANCH_CODE) WHERE EXTRACT(YEAR FROM OH.ORDER_DATE) = EXTRACT(YEAR FROM TO_DATE(? - 10000, 'YYYY/MM/DD')) GROUP BY EXTRACT(YEAR FROM OH.ORDER_DATE) ORDER BY EXTRACT(YEAR FROM OH.ORDER_DATE) DESC

selectHoMarginYesterday=SELECT ORDER_DATE , SUM(SUM_MARGIN) AS ORDER_MARGIN FROM (SELECT OH.ORDER_DATE , OD.ORDER_NUMBER , OD.ORDER_NUMBER , OD.MENU_CODE , OD.ORDER_QUANTITY , OD.ORDER_PRICE , MI.MENU_NAME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , (MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) * OD.ORDER_QUANTITY AS SUM_MARGIN FROM ORDER_DETAIL OD JOIN MENU_INFO MI ON(OD.MENU_CODE = MI.MENU_CODE) JOIN ORDER_HISTORY OH ON(OH.ORDER_NO = OD.ORDER_NUMBER) ) WHERE TO_CHAR(ORDER_DATE, 'RRRRMMDD') = ?-1 GROUP BY ORDER_DATE
selectHoMarginMonth=SELECT  TO_CHAR(ORDER_DATE, 'YYYY/MM') , SUM(SUM_MARGIN) AS ORDER_MARGIN FROM (SELECT OH.ORDER_DATE , OD.ORDER_NUMBER , OD.ORDER_NUMBER , OD.MENU_CODE , OD.ORDER_QUANTITY , OD.ORDER_PRICE , MI.MENU_NAME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , (MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) * OD.ORDER_QUANTITY AS SUM_MARGIN FROM ORDER_DETAIL OD JOIN MENU_INFO MI ON(OD.MENU_CODE = MI.MENU_CODE) JOIN ORDER_HISTORY OH ON(OH.ORDER_NO = OD.ORDER_NUMBER) ) WHERE TO_CHAR(ORDER_DATE, 'YYYY/MM') = TO_CHAR(TO_DATE(? - 100, 'YYYY/MM/DD'), 'YYYY/MM') GROUP BY TO_CHAR(ORDER_DATE, 'YYYY/MM')
selectHoMarginYear=SELECT EXTRACT(YEAR FROM ORDER_DATE) , SUM(SUM_MARGIN) AS ORDER_MARGIN FROM (SELECT OH.ORDER_DATE , OD.ORDER_NUMBER , OD.ORDER_NUMBER , OD.MENU_CODE , OD.ORDER_QUANTITY , OD.ORDER_PRICE , MI.MENU_NAME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , (MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) * OD.ORDER_QUANTITY AS SUM_MARGIN FROM ORDER_DETAIL OD JOIN MENU_INFO MI ON(OD.MENU_CODE = MI.MENU_CODE) JOIN ORDER_HISTORY OH ON(OH.ORDER_NO = OD.ORDER_NUMBER) ) WHERE EXTRACT(YEAR FROM ORDER_DATE) = EXTRACT(YEAR FROM TO_DATE(? - 10000, 'YYYY/MM/DD')) GROUP BY EXTRACT(YEAR FROM ORDER_DATE)

selectHoIncomeListDay=SELECT TO_CHAR(ORDER_DATE) AS CHAR_DATE , SUM(GROSS_INCOME) AS SUM_GROSS_INCOME , SUM(MANUFACTURE_COST) AS SUM_MANUFACTURE_COST , SUM(MARGIN) AS SUM_MARGIN , ROUND(AVG(MARGIN_RATE), 1) AS SUM_MARGIN_RATE FROM (SELECT OH.ORDER_DATE , OH.GROSS_INCOME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , ROUND((MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) / MI.MENU_PRICE, 1) * 100 AS MARGIN_RATE FROM ORDER_HISTORY OH JOIN ORDER_DETAIL OD USING(ORDER_NO) JOIN MENU_INFO MI USING(MENU_CODE) ) GROUP BY TO_CHAR(ORDER_DATE) ORDER BY TO_CHAR(ORDER_DATE) DESC
selectHoIncomeListMonth=SELECT TO_CHAR(ORDER_DATE, 'YYYY/MM') AS CHAR_DATE , SUM(GROSS_INCOME) AS SUM_GROSS_INCOME , SUM(MANUFACTURE_COST) AS SUM_MANUFACTURE_COST , SUM(MARGIN) AS SUM_MARGIN , ROUND(AVG(MARGIN_RATE), 1) AS SUM_MARGIN_RATE FROM (SELECT OH.ORDER_DATE , OH.GROSS_INCOME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , ROUND((MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) / MI.MENU_PRICE, 1) * 100 AS MARGIN_RATE FROM ORDER_HISTORY OH JOIN ORDER_DETAIL OD USING(ORDER_NO) JOIN MENU_INFO MI USING(MENU_CODE) ) GROUP BY TO_CHAR(ORDER_DATE, 'YYYY/MM') ORDER BY TO_CHAR(ORDER_DATE, 'YYYY/MM') DESC

selectBrIncomeYesterday=SELECT B.BRANCH_CODE , OH.ORDER_DATE , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) JOIN BRANCH B ON(K.MEMBER_DEPT_CODE = B.BRANCH_CODE) WHERE B.BRANCH_CODE = ? AND TO_CHAR(OH.ORDER_DATE, 'RRRRMMDD') = ? - 1 GROUP BY B.BRANCH_CODE, OH.ORDER_DATE
selectBrIncomeMonth=SELECT B.BRANCH_CODE , TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) JOIN BRANCH B ON(K.MEMBER_DEPT_CODE = B.BRANCH_CODE) WHERE B.BRANCH_CODE = ? AND TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') = TO_CHAR(TO_DATE(? - 100, 'YYYY/MM/DD'), 'YYYY/MM') GROUP BY B.BRANCH_CODE, TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') ORDER BY TO_CHAR(OH.ORDER_DATE, 'YYYY/MM') DESC
selectBrIncomeYear=SELECT B.BRANCH_CODE , EXTRACT(YEAR FROM OH.ORDER_DATE) , SUM(OH.GROSS_INCOME) , SUM(OH.DISCOUNT_INCOME) , SUM(OH.TOTAL_INCOME) FROM ORDER_HISTORY OH JOIN KIOSK K ON(OH.KIOSK_CODE = K.KIOSK_CODE) JOIN BRANCH B ON(K.MEMBER_DEPT_CODE = B.BRANCH_CODE) WHERE B.BRANCH_CODE = ? AND EXTRACT(YEAR FROM OH.ORDER_DATE) = EXTRACT(YEAR FROM TO_DATE(? - 10000, 'YYYY/MM/DD')) GROUP BY B.BRANCH_CODE, EXTRACT(YEAR FROM OH.ORDER_DATE) ORDER BY EXTRACT(YEAR FROM OH.ORDER_DATE) DESC

selectBrIncomeListDay=SELECT TO_CHAR(ORDER_DATE) AS CHAR_DATE , MEMBER_DEPT_CODE AS BRANCH_CODE , SUM(GROSS_INCOME) AS SUM_GROSS_INCOME , SUM(MANUFACTURE_COST) AS SUM_MANUFACTURE_COST , SUM(MARGIN) AS SUM_MARGIN , ROUND(AVG(MARGIN_RATE), 1) AS SUM_MARGIN_RATE FROM (SELECT OH.ORDER_DATE , K.MEMBER_DEPT_CODE , OH.GROSS_INCOME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , ROUND((MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) / MI.MENU_PRICE, 1) * 100 AS MARGIN_RATE FROM ORDER_HISTORY OH JOIN ORDER_DETAIL OD USING(ORDER_NO) JOIN MENU_INFO MI USING(MENU_CODE) JOIN KIOSK K USING(KIOSK_CODE) WHERE K.MEMBER_DEPT_CODE = ? ) GROUP BY TO_CHAR(ORDER_DATE), MEMBER_DEPT_CODE ORDER BY TO_CHAR(ORDER_DATE) DESC
selectBrIncomeListMonth=SELECT TO_CHAR(ORDER_DATE, 'YYYY/MM') AS CHAR_DATE , MEMBER_DEPT_CODE AS BRANCH_CODE , SUM(GROSS_INCOME) AS SUM_GROSS_INCOME , SUM(MANUFACTURE_COST) AS SUM_MANUFACTURE_COST , SUM(MARGIN) AS SUM_MARGIN , ROUND(AVG(MARGIN_RATE),1) AS SUM_MARGIN_RATE FROM (SELECT OH.ORDER_DATE , K.MEMBER_DEPT_CODE , OH.GROSS_INCOME , MI.MANUFACTURE_COST , MI.MENU_PRICE - MI.MANUFACTURE_COST AS MARGIN , ROUND((MI.MENU_PRICE - MI.MANUFACTURE_COST - OH.DISCOUNT_INCOME) / MI.MENU_PRICE, 1) * 100 AS MARGIN_RATE FROM ORDER_HISTORY OH JOIN ORDER_DETAIL OD USING(ORDER_NO) JOIN MENU_INFO MI USING(MENU_CODE) JOIN KIOSK K USING(KIOSK_CODE) WHERE K.MEMBER_DEPT_CODE = ? ) GROUP BY TO_CHAR(ORDER_DATE, 'YYYY/MM'), MEMBER_DEPT_CODE ORDER BY TO_CHAR(ORDER_DATE, 'YYYY/MM') DESC
